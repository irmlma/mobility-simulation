

CREATE DATABASE hai;

GRANT ALL PRIVILEGES ON DATABASE hai TO postgres;

CREATE ROLE test_role NOSUPERUSER NOCREATEDB NOCREATEROLE NOINHERIT NOREPLICATION NOBYPASSRLS LOGIN ENCRYPTED PASSWORD 'test_pw';

CREATE SCHEMA simulated;
CREATE SCHEMA real;

CREATE USER save_user WITH PASSWORD 'test_pw' IN ROLE test_role;
CREATE USER sensitive_user WITH PASSWORD 'test_pw' IN ROLE test_role;


ALTER DEFAULT PRIVILEGES IN SCHEMA simulated GRANT ALL ON TABLES TO save_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA real GRANT ALL ON TABLES TO sensitive_user;

GRANT ALL ON SCHEMA simulated TO save_user;
GRANT ALL ON SCHEMA real TO sensitive_user;

GRANT CONNECT ON DATABASE hai TO save_user;
GRANT CONNECT ON DATABASE hai TO sensitive_user;

CREATE EXTENSION postgis;
SELECT PostGIS_full_version();
